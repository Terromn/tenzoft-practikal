---
import '../styles/global.css';
import SuccessAnimation from '../components/SuccessAnimation.astro';

export interface Props {
  title: string;
  description?: string;
  image?: string;
}

const { title, description = "Practikal - Soluciones empresariales y tecnológicas con más de 20 años de experiencia. Consultoría especializada en infraestructura y soporte al usuario.", image = "/og-image.jpg" } = Astro.props;
---

<!DOCTYPE html>
<html lang="es" class="scroll-smooth dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- SEO Meta Tags -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content="consultoría empresarial, soluciones tecnológicas, infraestructura, soporte técnico, consultoría especializada, México" />
    <meta name="author" content="Practikal" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://practikal.com.mx/" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={image} />
    <meta property="og:locale" content="es_MX" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://practikal.com.mx/" />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={image} />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/assets/isotype.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/isotype.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/isotype.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/isotype.png" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/fonts/inter.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/poppins.woff2" as="font" type="font/woff2" crossorigin />
    
    <!-- Performance optimizations -->
    <meta name="theme-color" content="#001E21" />
    <meta name="msapplication-TileColor" content="#001E21" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Practikal",
        "url": "https://practikal.com.mx",
        "description": "Soluciones empresariales y tecnológicas con más de 20 años de experiencia",
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "areaServed": "MX",
          "availableLanguage": "Spanish"
        },
        "sameAs": [
          "https://www.linkedin.com/company/practikal",
          "https://www.facebook.com/practikal"
        ]
      }
    </script>
  </head>
  <body class="text-white antialiased relative overflow-x-hidden min-h-screen">
    <slot />
    
    <!-- Success Animation Overlay -->
    <SuccessAnimation />
    
    <!-- Auto-trigger success animation from URL parameter -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        // Check if success parameter is in URL
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get("success") === "true") {
          // Wait for GSAP and components to load
          setTimeout(() => {
            if (typeof window !== "undefined" && (window as any).showSuccessAnimation) {
              // Clear the URL parameter to avoid retriggering
              window.history.replaceState({}, document.title, window.location.pathname);
              // Show animation and redirect to home section
              (window as any).showSuccessAnimation("/#inicio");
            }
          }, 1000);
        }
      });
    </script>
    
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" integrity="sha512-16esztaSRplJROstbIIdwX3N97V1+pZvV33ABoG1H2OyTttBxEGkTsoIVsiP1iaTtM8b3+hu2kB6pQ4Clr5yug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" integrity="sha512-Ic9xkERjyZ1xgJ5svx3y0u3xrvfT/uPkV99LBwe68xjy/mGtO+4eURHZBW2xW4SZbFrF1Tf090XqB+EVgXnVjw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <style>
      @keyframes float-1 {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(180deg); }
      }
      
      @keyframes float-2 {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-15px) rotate(-180deg); }
      }
      
      @keyframes float-3 {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-25px) rotate(90deg); }
      }
      
      @keyframes pulse-slow {
        0%, 100% { opacity: 0.5; }
        50% { opacity: 0.8; }
      }
      
      @keyframes bounce-slow {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
      }
      
      .animate-float-1 { animation: float-1 6s ease-in-out infinite; }
      .animate-float-2 { animation: float-2 8s ease-in-out infinite; }
      .animate-float-3 { animation: float-3 7s ease-in-out infinite; }
      .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
      .animate-bounce-slow { animation: bounce-slow 3s ease-in-out infinite; }
    </style>
    
    <!-- Analytics placeholder -->
    <!-- Google Analytics or other tracking code would go here -->
  </body>
</html>

 